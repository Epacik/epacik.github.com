<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../">
  <title data-ice="title">js/interface.js</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-checkDisMsgForm">checkDisMsgForm</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-sendWebhook">sendWebhook</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-validateEmail">validateEmail</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-buildPage">buildPage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-clMenu">clMenu</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-opMenu">opMenu</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-resize">resize</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-scroll">scroll</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-scrollCards">scrollCards</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-scrollUpButton">scrollUpButton</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getURLParam">getURLParam</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-goto">goto</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-navigate">navigate</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-setURLParam">setURLParam</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-toggleLoading">toggleLoading</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-footer">footer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-pages">pages</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-fillIt">fillIt</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-webhookURL">webhookURL</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-icons">icons</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-elements">elements</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-inst">inst</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-win">win</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-lang">lang</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-debug">debug</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-underConstruction">underConstruction</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">js/interface.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">let elements = {};
let inst = {};
let win = {
  w: window.innerWidth,
  h: window.innerHeight,
};

let resize = function () {
  win.w = window.innerWidth;
  win.h = window.innerHeight;
  scrollCards();
};

function scrollUpButton() {
  let scrUp = document.getElementById(&apos;scrUp&apos;);
  if (window.scrollY * 2.5 &gt; win.h) {
    scrUp.style.opacity = &apos;1&apos;;
    scrUp.style.pointerEvents = &apos;all&apos;;
  } else {
    scrUp.style.opacity = &apos;&apos;;
    scrUp.style.pointerEvents = &apos;&apos;;
  }
}

function scroll() {
  scrollCards();
  scrollUpButton();
}

let scrollCards = function (e) {

  // console.log(e);

  let cards = document.querySelectorAll(&apos;.card&apos;);
  if (cards == null) {
    return;
  }

  for (var i = 0; i &lt; cards.length - 1; i++) {
    let el = cards[i].children[0];
    let elP = cards[i];

    let b = elP.getBoundingClientRect().bottom;
    let o = win.h;

    if (b &lt;= o) {
      let p = o - b;
      if (window.scrollY &gt; win.h &amp;&amp; i == 0) {
        // console.log(window.scrollY);
        // console.log(win.h);
        el.style.transform = `scale(0.9)`;
        el.style.bottom = `0`;
        el.style.position = &apos;fixed&apos;;
        el.style.height = elP.offsetHeight + &apos;px&apos;;
        el.style.zIndex = `0.0000${i}`;
        el.style.boxShadow = &apos;0 0 5px 0 black&apos;;
      } else if (p &lt;= elP.offsetHeight) {
        let sc = 1 - (p / elP.offsetHeight);
        if (sc &lt;= 0.9) {
          sc = 0.9;
        }

        el.style.transform = `scale(${sc})`;
        el.style.bottom = `0`;
        el.style.position = &apos;fixed&apos;;
        el.style.height = elP.offsetHeight + &apos;px&apos;;
        el.style.zIndex = `0.0000${i}`;
        el.style.boxShadow = &apos;0 0 5px 0 black&apos;;
      }
    } else {
      el.style.transform = `scale(1)`;
      el.style.bottom = &apos;&apos;;
      el.style.height = &apos;&apos;;
      el.style.position = &apos;&apos;;
      el.style.zIndex = ``;
      el.style.boxShadow = &apos;&apos;;
    }

  }

};

//elements of DOM
elements.mbtn = document.getElementById(&apos;mbtn&apos;);
elements.bbtn = document.getElementById(&apos;bbtn&apos;);
elements.navBtn = document.querySelector(&apos;.mfb&apos;);
elements.sideNav = document.querySelector(&apos;.sideNav&apos;);

inst.opMenu = function () {
  elements.sideNav.style.bottom = &apos;0&apos;;
  elements.navBtn.classList.add(&apos;flip&apos;);
  // document.body.style.overflow = &apos;hidden&apos;;
};

inst.clMenu = function () {
  elements.sideNav.style.bottom = &apos;&apos;;
  elements.navBtn.classList.remove(&apos;flip&apos;);
  // document.body.style.overflow = &apos;auto&apos;;
};

elements.mbtn.addEventListener(&apos;click&apos;, inst.opMenu);
elements.bbtn.addEventListener(&apos;click&apos;, inst.clMenu);

window.addEventListener(&apos;resize&apos;, resize);
document.addEventListener(&apos;scroll&apos;, scroll);

scrollCards();

document.getElementById(&apos;scrUp&apos;).addEventListener(&apos;click&apos;, function () {
  document.querySelector(&apos;body&apos;).scrollIntoView({ behavior: &apos;smooth&apos;,
    inline: &apos;start&apos;, block: &apos;start&apos;, });
});

function buildPage() {
  let pgDOM = document.getElementById(&apos;pages&apos;);
  pgDOM.innerHTML = &apos;&apos;;
  for (i = 0; i &lt; pages.length; i++) {
    let main = document.createElement(&apos;main&apos;);
    main.id = pages[i].id.toUpperCase();
    main.classList.add(&apos;wrapper&apos;);
    pgDOM.appendChild(main);
    let pg = document.getElementById(pages[i].id.toUpperCase());
    let content = pages[i].content;

    for (j = 0; j &lt; content.length; j++) {
      let card = document.createElement(content[j].type);
      let cnt = document.createElement(&apos;section&apos;);
      console.log(content[j].type);
      console.log(card);
      card.classList.add(&apos;card&apos;);

      if (content[j].id) {
        card.id = content[j].id;
      }

      if (content[j].class) {
        for (c = 0; c &lt; content[j].class.length; c++) {
          card.classList.add(content[j].class[c]);
        }
      }

      if (typeof content[j].content == &apos;string&apos;) {
        cnt.innerHTML = content[j].content;
      } else if (typeof content[j].content == &apos;object&apos;) {
        let c = content[j].content;
        for (k = 0; k &lt; c.length; k++) {
          let cn = c[k];
          let el = document.createElement(cn.type);
          el.innerHTML = cn.content;
          if (cn.id) {
            el.id = cn.id;
          }

          if (cn.class) {
            for (c = 0; c &lt; cn.class.length; c++) {
              el.classList.add(cn.class[c]);
            }
          }

          cnt.appendChild(el);
          console.log(cnt);
        }
      }

      cnt.classList.add(&apos;content&apos;);
      card.appendChild(cnt);
      pg.appendChild(card);
    }
  }

  let nav = elements.sideNav;
  nav.innerHTML = &apos;&apos;;
  for (i = 0; i &lt; pages.length; i++) {
    let btn = document.createElement(&apos;button&apos;);
    let id = pages[i].id;
    btn.onclick = `goto(${id})`;

    btn.addEventListener(&apos;click&apos;, function () {
      goto(id);
      console.log(id);
    });

    btn.innerHTML = pages[i].name;
    nav.appendChild(btn);
  };

  goto(&apos;home&apos;);
  scrollCards();
}

buildPage();
toggleLoading();
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
